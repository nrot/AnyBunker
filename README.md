# AnyBunker

Проект представляет из себя легковесный аналог ELK стека, для сохранения JSON в PostgreSQL JSONB.

### Функции

- [x] REST API
- [x] Grpc Service (Только запись)
- [x] Отчеты
  - [x] Выбор полей
  - [x] Cron постоновка выполнения
  - [x] Сохранение в файл на сервере
  - [ ] Отправка по почте
  - [ ] Отправка по телеграмм (А нужно ?)
- [ ] Alerts
  - [ ] По почте
  - [ ] По телеграмм
  - [ ] Выполнение команда на сервере
  - [ ] Http запрос

### Цели

- Простота
- Легкое развертывание
- Минимальное использование ресурсов
- Открытость

### TODO

- [ ] Задачи Sql/shell
  - [ ] Cron постоновка
  - [ ] Настроенные события
  - [ ] Внешние запросы

### Использование

```bash
echo "DATABASE_URL=" > .env
```

Необходим Postgresql server. Параметры сервера настраивются через ENV. Возможные параметры можно посмотреть в [.env.example](https://github.com/nrot/AnyBunker/blob/main/.env.example)

На сервере в базе данных необходимо создать схему (по умолчанию indexes, создается миграцией), в этой схеме будут хранятся индексы, одна таблица на один индекс. Разделение индексов по датам не происходит, по причинам сложности последующей агрегации данных в postgresql. Система не предназначена для слишком больших нагрузок и более мелкое дробление данных, принисет только дополнительные сложности, без существенных плюсов.

### Сборка

```bash
cargo build --release
```
